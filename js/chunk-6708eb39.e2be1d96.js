(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6708eb39"],{"2a7f":function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return n}));var o=a("71d9"),s=a("80d2"),n=Object(s["h"])("v-toolbar__title"),r=Object(s["h"])("v-toolbar__items");o["a"]},"2ac3":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{id:"equipment",fluid:"",tag:"section"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",lg:"4"}},[a("base-material-card",{staticClass:"px-5 py-3",attrs:{color:"success",icon:"mdi-clipboard",inline:"",title:"Device Type"}},[a("equipment-top-ten-pie-chart",{attrs:{"data-category":"deviceType"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"12",lg:"4"}},[a("base-material-card",{staticClass:"px-5 py-3",attrs:{color:"success",icon:"mdi-clipboard",inline:"",title:"Make"}},[a("equipment-top-ten-pie-chart",{attrs:{"data-category":"make"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"12",lg:"4"}},[a("base-material-card",{staticClass:"px-5 py-3",attrs:{color:"success",icon:"mdi-clipboard",inline:"",title:"Devices"}},[a("equipment-top-ten-pie-chart",{attrs:{"data-category":"deviceName"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"12",lg:"12"}},[a("equipment-device-summary-table")],1),a("v-col",{attrs:{cols:"12",sm:"12",lg:"12"}},[a("equipment-data-table")],1)],1)],1)},s=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("apexchart",{attrs:{type:"donut",options:e.chartOptions,series:e.pieSeries}})],1)},r=[],i=(a("8e6e"),a("456d"),a("ac6a"),a("bd86")),l=(a("c1df"),a("5eca")),c=a("2f62");function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(a,!0).forEach((function(t){Object(i["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={name:"UsageSMSTopTenPieChart",props:{dataCategory:{type:String,default:"make"}},computed:p({},Object(c["c"])("app",{customerInfo:"customerInfo",snCount:"snCount"}),{},Object(c["c"])("equipment",{refreshRequired:"refreshRequired"})),data:function(){return{refreshData:!0,radialSeries:[23,34,55],radialChartOptions:{title:{text:"Top Ten",align:"left"},plotOptions:{radialBar:{hollow:{size:"20%"},track:{background:"#ebebeb",strokeWidth:"100%",margin:15},dataLabels:{show:!0,name:{fontSize:"18px"},value:{fontSize:"16px",color:"#636a71",offsetY:11}}}},colors:["#7961F9","#FF9F43","#EA5455"],fill:{type:"gradient",gradient:{shade:"dark",type:"vertical",shadeIntensity:.5,gradientToColors:["#9c8cfc","#FFC085","#f29292"],inverseColors:!1,opacityFrom:1,opacityTo:1,stops:[0,100]}},stroke:{lineCap:"round"}},pieSeries:[44,55,13,43,22],chartOptions:{labels:["Team A","Team B","Team C","Team D","Team E"],colors:["#7961F9","#FF9F43","#EA5455","#4eea19","#ea349d"],responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]}}},mounted:function(){this.refreshData&&(this.switchTopTen(this.dataCategory),this.refreshData=!1)},methods:{switchTopTen:function(e){var t=this;console.log("switchTopTen "+e+" calling findMonthlyTopTen"),Object(l["j"])(e).then((function(a){console.log("findTopTenEquipment "+e+" completed");var o=[],s=[];a.forEach((function(e){s.push(e.sn+""),o.push(e.qty)})),t.pieSeries=o,t.chartOptions={labels:s}}))}}},h=d,m=a("2877"),v=Object(m["a"])(h,n,r,!1,null,"55e6d39e",null),b=v.exports,f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("base-material-card",{staticClass:"px-5 py-3",attrs:{color:"success",icon:"mdi-vuetify",inline:"",title:"Equipment"}},[a("v-text-field",{staticClass:"ml-auto",staticStyle:{"max-width":"250px"},attrs:{"append-icon":"mdi-magnify",label:"Search","hide-details":"","single-line":""},model:{value:e.searchEquipment,callback:function(t){e.searchEquipment=t},expression:"searchEquipment"}}),a("v-divider",{staticClass:"mt-3"}),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.tableData,"items-per-page":5,search:e.searchEquipment},scopedSlots:e._u([{key:"item.sn",fn:function(t){var o=t.item;return[a("v-chip",{attrs:{color:e.getColor(o),dark:"",to:{path:"/pages/serviceNumberPage/"+o.sn}}},[e._v("\n        "+e._s(o.sn)+"\n      ")])]}}])})],1)},g=[],y=a("6ace");function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function D(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(a,!0).forEach((function(t){Object(i["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var T=Object(c["a"])("equipment"),x=T.mapGetters,C={name:"EquipmentDataTable",computed:D({},x(["refreshRequired"])),data:function(){return{searchEquipment:"",headers:[{text:"SN",align:"left",sortable:!1,value:"sn"},{text:"Jan",value:"0"},{text:"Feb",value:"0"},{text:"Mar",value:"0"},{text:"Apr",value:"0"},{text:"May",value:"0"}],tableData:[]}},mounted:function(){this.updateHeaders()},methods:{updateHeaders:function(){var e=this;console.log("updateHeaders");var t=[];Object(l["e"])().then((function(a){t.push({text:"SN",value:"sn",align:"left"}),t.push({text:"Name",value:"userName"}),t.push({text:"Device",value:"deviceName"}),t.push({text:"Make",value:"make"}),t.push({text:"Model",value:"model"}),t.push({text:"Operating System",value:"os"}),t.push({text:"IMEI",value:"imei"}),t.push({text:"Network",value:"simNetwork"}),e.headers=t,e.resetData(a)}))},resetData:function(e){var t=[];e.forEach((function(e){var a=e.doc;t.push(a)})),this.tableData=t},getColor:function(e){return"green"}}},j=C,E=a("6544"),M=a.n(E),k=a("cc20"),w=a("8fea"),P=a("ce7e6"),S=a("8654"),q=Object(m["a"])(j,f,g,!1,null,"07405358",null),_=q.exports;M()(q,{VChip:k["a"],VDataTable:w["a"],VDivider:P["a"],VTextField:S["a"]});var B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("base-material-card",{staticClass:"px-5 py-3",attrs:{color:"success",icon:"mdi-vuetify",inline:"",title:"Equipment Summary"}},[a("v-toolbar",[a("v-toolbar-title",[e._v(e._s(e.selectedOptionText))]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{text:""},on:{click:function(t){return e.filterData("deviceType")}}},[e._v("\n        Device Type\n      ")]),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.filterData("make")}}},[e._v("\n        Make\n      ")]),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.filterData("deviceName")}}},[e._v("\n        Model\n      ")])],1)],1),a("v-divider",{staticClass:"mt-3"}),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.tableData,"items-per-page":5}})],1)},N=[],H=a("75fc");a("5df3"),a("f400"),a("4360");function U(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function $(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?U(a,!0).forEach((function(t){Object(i["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):U(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var V=Object(c["a"])("equipment"),F=V.mapGetters,A={name:"EquipmentDeviceSummaryTable",data:function(){return{selectedOption:"deviceType",baseHeaders:[{text:"Device Type",align:"left",value:"deviceType"},{text:"Device Make",value:"make"},{text:"Device Model",value:"deviceName"}],tableData:[]}},computed:$({},F(["refreshRequired"]),{selectedOptionText:function(){return"deviceType"===this.selectedOption?"Device Type":"make"===this.selectedOption?"Device Make":"deviceName"===this.selectedOption?"Device Model":""},headers:function(){return this.baseHeaders.concat([{text:"Qty",value:"qty"},{text:"Last Bill",value:"billTotal"},{text:"12 Mth Avg",value:"averageBillTotal"},{text:"Last Month Usage (Mb)",value:"domesticDataUsage"},{text:"12 Mth Avg (Mb)",value:"averageUsageTotal"},{text:"Last Month Call",value:"domesticDataCall"},{text:"12 Mth Avg (Calls)",value:"averageCallTotal"}])}}),mounted:function(){this.filterData(this.selectedOption)},methods:{updateEquipmentSummary:function(){var e=this;console.log("updateEquipmentSummary started"),Object(l["f"])().then((function(t){e.resetData(t.equipmentSummaryList)}))},filterData:function(e){var t=this;console.log("filterData selectOption called "+e),this.selectedOption=e,Object(l["f"])().then((function(e){var a=e.equipmentSummaryList.reduce((function(e,a){var o=a.deviceType;"make"===t.selectedOption&&(o+="-"+a.make),"deviceName"===t.selectedOption&&(o+="-"+a.make+"-"+a.deviceName);var s=a.billTotal,n=a.qty,r=a.domesticDataUsage,i=a.domesticDataCall,l=a.bill12MonthsTotal,c=a.bill12MonthsCount,u=a.domesticDataUsage12MonthsTotal,p=a.domesticDataUsage12MonthsCount,d=a.domesticDataCall12MonthsTotal,h=a.domesticDataCall12MonthsCount,m=e.get(o);return m?(m.qty+=n,m.billTotal+=s,m.domesticDataUsage+=r,m.domesticDataCall+=i,m.bill12MonthsTotal+=l,m.bill12MonthsCount+=c,m.domesticDataUsage12MonthsTotal+=u,m.domesticDataUsage12MonthsCount+=p,m.domesticDataCall12MonthsTotal+=d,m.domesticDataCall12MonthsCount+=h):e.set(o,Object.assign({},a)),e}),new Map),o=Object(H["a"])(a.values());t.resetData(o)}))},resetData:function(e){console.log("resetData called for "+this.selectedOption),e.forEach((function(e){e.bill12MonthsCount>0?e.averageBillTotal=y["a"].formatCurrency(e.bill12MonthsTotal/e.bill12MonthsCount):e.averageBillTotal=y["a"].formatCurrency(0),e.billTotal=y["a"].formatCurrency(e.billTotal),e.domesticDataUsage12MonthsCount>0?e.averageUsageTotal=y["a"].readableBytes(e.domesticDataUsage12MonthsTotal/e.domesticDataUsage12MonthsCount):e.averageUsageTotal=y["a"].readableBytes(0),e.domesticDataCall12MonthsCount>0?e.averageCallTotal=Math.round(e.domesticDataCall12MonthsTotal/e.domesticDataCall12MonthsCount):e.averageCallTotal=0,e.domesticDataUsage=y["a"].readableBytes(e.domesticDataUsage)})),"deviceType"===this.selectedOption&&(this.baseHeaders=[{text:"Device Type",align:"left",value:"deviceType"}]),"make"===this.selectedOption&&(this.baseHeaders=[{text:"Device Type",align:"left",value:"deviceType"},{text:"Device Make",value:"make"}]),"deviceName"===this.selectedOption&&(this.baseHeaders=[{text:"Device Type",align:"left",value:"deviceType"},{text:"Device Make",value:"make"},{text:"Device Model",value:"deviceName"}]),this.tableData=e},getColor:function(e){return"green"}}},I=A,L=a("8336"),R=a("2fa4"),z=a("71d9"),J=a("2a7f"),G=Object(m["a"])(I,B,N,!1,null,"26b0b69e",null),Q=G.exports;M()(G,{VBtn:L["a"],VDataTable:w["a"],VDivider:P["a"],VSpacer:R["a"],VToolbar:z["a"],VToolbarItems:J["a"],VToolbarTitle:J["b"]});var W={name:"Equipment",components:{EquipmentTopTenPieChart:b,EquipmentDataTable:_,EquipmentDeviceSummaryTable:Q}},Y=W,K=a("62ad"),X=a("a523"),Z=a("0fd9"),ee=Object(m["a"])(Y,o,s,!1,null,"2ace9dfe",null);t["default"]=ee.exports;M()(ee,{VCol:K["a"],VContainer:X["a"],VRow:Z["a"]})},"5e23":function(e,t,a){},"71d9":function(e,t,a){"use strict";a("8e6e"),a("ac6a"),a("456d");var o=a("768b"),s=a("bd86"),n=(a("c5f6"),a("5e23"),a("8dd9")),r=a("adda"),i=a("80d2"),l=a("d9bd");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(a,!0).forEach((function(t){Object(s["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t["a"]=n["a"].extend({name:"v-toolbar",props:{absolute:Boolean,bottom:Boolean,collapse:Boolean,dense:Boolean,extended:Boolean,extensionHeight:{default:48,type:[Number,String]},flat:Boolean,floating:Boolean,prominent:Boolean,short:Boolean,src:{type:[String,Object],default:""},tag:{type:String,default:"header"},tile:{type:Boolean,default:!0}},data:function(){return{isExtended:!1}},computed:{computedHeight:function(){var e=this.computedContentHeight;if(!this.isExtended)return e;var t=parseInt(this.extensionHeight);return this.isCollapsed?e:e+(isNaN(t)?0:t)},computedContentHeight:function(){return this.height?parseInt(this.height):this.isProminent&&this.dense?96:this.isProminent&&this.short?112:this.isProminent?128:this.dense?48:this.short||this.$vuetify.breakpoint.smAndDown?56:64},classes:function(){return u({},n["a"].options.computed.classes.call(this),{"v-toolbar":!0,"v-toolbar--absolute":this.absolute,"v-toolbar--bottom":this.bottom,"v-toolbar--collapse":this.collapse,"v-toolbar--collapsed":this.isCollapsed,"v-toolbar--dense":this.dense,"v-toolbar--extended":this.isExtended,"v-toolbar--flat":this.flat,"v-toolbar--floating":this.floating,"v-toolbar--prominent":this.isProminent})},isCollapsed:function(){return this.collapse},isProminent:function(){return this.prominent},styles:function(){return u({},this.measurableStyles,{height:Object(i["f"])(this.computedHeight)})}},created:function(){var e=this,t=[["app","<v-app-bar app>"],["manual-scroll",'<v-app-bar :value="false">'],["clipped-left","<v-app-bar clipped-left>"],["clipped-right","<v-app-bar clipped-right>"],["inverted-scroll","<v-app-bar inverted-scroll>"],["scroll-off-screen","<v-app-bar scroll-off-screen>"],["scroll-target","<v-app-bar scroll-target>"],["scroll-threshold","<v-app-bar scroll-threshold>"],["card","<v-app-bar flat>"]];t.forEach((function(t){var a=Object(o["a"])(t,2),s=a[0],n=a[1];e.$attrs.hasOwnProperty(s)&&Object(l["a"])(s,n,e)}))},methods:{genBackground:function(){var e={height:Object(i["f"])(this.computedHeight),src:this.src},t=this.$scopedSlots.img?this.$scopedSlots.img({props:e}):this.$createElement(r["a"],{props:e});return this.$createElement("div",{staticClass:"v-toolbar__image"},[t])},genContent:function(){return this.$createElement("div",{staticClass:"v-toolbar__content",style:{height:Object(i["f"])(this.computedContentHeight)}},Object(i["q"])(this))},genExtension:function(){return this.$createElement("div",{staticClass:"v-toolbar__extension",style:{height:Object(i["f"])(this.extensionHeight)}},Object(i["q"])(this,"extension"))}},render:function(e){this.isExtended=this.extended||!!this.$scopedSlots.extension;var t=[this.genContent()],a=this.setBackgroundColor(this.color,{class:this.classes,style:this.styles,on:this.$listeners});return this.isExtended&&t.push(this.genExtension()),(this.src||this.$scopedSlots.img)&&t.unshift(this.genBackground()),e(this.tag,a,t)}})}}]);