(function(e){function t(t){for(var r,s,i=t[0],c=t[1],u=t[2],l=0,f=[];l<i.length;l++)s=i[l],a[s]&&f.push(a[s][0]),a[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);p&&p(t);while(f.length)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},o=[];function s(e){return i.p+"js/"+({about:"about"}[e]||e)+"."+{about:"f6fa66f1"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise(function(t,r){n=a[e]=[t,r]});t.push(n[2]=r);var o,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=s(e),o=function(t){c.onerror=c.onload=null,clearTimeout(u);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src,s=new Error("Loading chunk "+e+" failed.\n("+r+": "+o+")");s.type=r,s.request=o,n[1](s)}a[e]=void 0}};var u=setTimeout(function(){o({type:"timeout",target:c})},12e4);c.onerror=c.onload=o,document.head.appendChild(c)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var p=u;o.push([1,"chunk-vendors"]),n()})({0:function(e,t){},"0215":function(e,t,n){},"07a4":function(e,t,n){"use strict";var r=n("2b0e"),a=n("2f62"),o=n("2a74");r["a"].use(a["b"]),t["a"]=new a["b"].Store({modules:o["default"],state:{isShowProgress:!1,rowsRead:0,containsData:!1,accountSummaryChart:{series:[],labels:[]},snScatterDomesticDataDatePreset:{lastMonth:{start:201111,end:201112},lastQuarter:{start:201109,end:201112},lastYear:{start:201012,end:201112}},snScatterChart:{series:[{name:"local calls",data:[{x:100,y:53},{x:200,y:60},{x:250,y:23},{x:280,y:83}]}],labels:[]}},getters:{isShowProgress:function(e){return e.isShowProgress},rowsRead:function(e){return e.rowsRead},accountSummaryChart:function(e){return e.accountSummaryChart},snScatterChart:function(e){return e.snScatterChart},snScatterDomesticDataDatePreset:function(e){return e.snScatterDomesticDataDatePreset},containsData:function(e){return e.containsData}},mutations:{commitProgress:function(e,t){console.log("commit progress is "+t),e.isShowProgress=t},commitContainsData:function(e,t){e.containsData=t},commitRowsRead:function(e,t){e.rowsRead=t},commitAccountSummaryChart:function(e,t){e.accountSummaryChart=t},commitDomesticDataScatterChart:function(e,t){e.snScatterChart=t},commitDomesticDataScatterDatePreset:function(e,t){e.snScatterDomesticDataDatePreset=t}},actions:{updateContainsData:function(e,t){console.log("updateContainsData returns "+t.count),e.commit("commitContainsData",t.count>0),t.count>0?e.commit("commitRowsRead",t.count):e.commit("commitRowsRead",0)},updateAccountSummaryChart:function(e,t){e.commit("commitAccountSummaryChart",t)},updateSnScatterChart:function(e,t){e.commit("commitDomesticDataScatterChart",t)},updateDomesticDataScatterDatePreset:function(e,t){e.commit("commitDomesticDataScatterDatePreset",t),console.log("updateDomesticDataScatterDatePreset updated ")},setProgress:function(e,t){console.log("action progress is "+t),e.commit("commitProgress",t)}}})},1:function(e,t,n){e.exports=n("56d7")},2:function(e,t){},"2a74":function(e,t,n){"use strict";n.r(t);n("a481"),n("ac6a");var r=n("bba4"),a=n.n(r),o=n("d307"),s={};o.keys().forEach(function(e){if("./index.js"!==e){var t=a()(e.replace(/(\.\/|\.js)/g,""));s[t]=o(e).default}}),t["default"]=s},3:function(e,t){},"304f":function(e,t,n){"use strict";var r=n("3866"),a=n.n(r);a.a},"363e":function(e,t,n){"use strict";n.r(t);n("96cf");var r=n("3b8d");n("8e99");t["default"]={namespaced:!0,state:{rowCount:0,loading:!0,result:[{name:"sn1",calories:159,fat:6,carbs:24,protein:4,iron:"1%"},{name:"sn2",calories:159,fat:6,carbs:24,protein:4,iron:"1%"}]},getters:{result:function(e){return e.result},rowCount:function(e){return e.rowCount},loading:function(e){return e.loading}},mutations:{COMMIT_RESULT:function(e,t){e.result=t},COMMIT_ROWCOUNT:function(e,t){e.rowCount=t},COMMIT_LOADING:function(e,t){e.loading=t}},actions:{beginLoading:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:n=t.commit,n("COMMIT_LOADING",!0);case 2:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),saveResult:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:r=t.commit,console.log("snService saveResult called "),r("COMMIT_RESULT",n.data),r("COMMIT_ROWCOUNT",n.rowCount),r("COMMIT_LOADING",!1);case 5:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}()}}},3866:function(e,t,n){},4678:function(e,t,n){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(e){var t=o(e);return n(t)}function o(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id="4678"},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"inspire"}},[n("v-navigation-drawer",{attrs:{app:"",clipped:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{to:{path:"/"}}},[n("v-list-item-action",[n("v-icon",[e._v("dashboard")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Dashboard")])],1)],1),n("v-list-item",{attrs:{to:{path:"/serviceNumber"}}},[n("v-list-item-action",[n("v-icon",[e._v("storage")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Service Number")])],1)],1),n("v-list-item",{attrs:{to:{path:"/settings"}}},[n("v-list-item-action",[n("v-icon",[e._v("settings")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Settings")])],1)],1)],1)],1),n("v-app-bar",{attrs:{app:"","clipped-left":""}},[n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),n("v-toolbar-title",{staticClass:"headline text-uppercase"},[n("span",[e._v("Blaster")]),n("span",{staticClass:"font-weight-light"},[e._v("BLITZ")])]),n("v-spacer"),n("v-btn",{attrs:{text:"",href:"https://github.com/vuetifyjs/vuetify/releases/latest",target:"_blank"}},[n("span",{staticClass:"mr-2"},[e._v("Snapshot Release")])])],1),n("v-content",[n("v-container",{attrs:{fluid:""}},[n("router-view")],1)],1),n("v-footer",{attrs:{app:""}},[e._v("\n    footer here. Aug 2019\n  ")]),n("progress-dialog")],1)},o=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",{attrs:{color:"primary",dark:""}},[n("v-card-text",[e._v("\n            Please stand by "+e._s(e.title)+"\n            "),n("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)},i=[],c=n("2f62"),u={name:"ProgressDialog",data:function(){return{title:"Blitz loading...",dialog:!1}},computed:Object(c["d"])(["isShowProgress"]),mounted:function(){var e=this;this.$store.watch(function(e,t){return t.isShowProgress},function(t,n){console.log("mounted!! watching isShowProgress from ".concat(n," to ").concat(t)),e.dialog=!!t})},methods:{}},l=u,p=n("2877"),f=n("6544"),d=n.n(f),h=n("b0af"),m=n("99d9"),g=n("169a"),b=n("8e36"),v=Object(p["a"])(l,s,i,!1,null,"25e2f99c",null),y=v.exports;d()(v,{VCard:h["a"],VCardText:m["a"],VDialog:g["a"],VProgressLinear:b["a"]});n("28a5"),n("4917");var w=n("768b"),j=(n("96cf"),n("ac6a"),n("5df3"),n("f400"),n("3b8d")),x=n("07a4"),D=n("c1df"),S=n.n(D),O=n("c2e1"),C={filterByLastMonth:function(){var e=x["a"].getters.snScatterDomesticDataDatePreset.lastMonth;return this.prepareSnUsageScatterChart(e.start,e.end,"DOMESTIC VOICE")},filterByLastQuarter:function(){var e=x["a"].getters.snScatterDomesticDataDatePreset.lastQuarter;return this.prepareSnUsageScatterChart(e.start,e.end,"DOMESTIC VOICE")},filterByLastYear:function(){var e=x["a"].getters.snScatterDomesticDataDatePreset.lastYear;return this.prepareSnUsageScatterChart(e.start,e.end,"DOMESTIC VOICE")},prepareSnUsageScatterChart:function(){var e=Object(j["a"])(regeneratorRuntime.mark(function e(t,n,r){var a,o,s,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(O["i"])(t,n);case 2:return a=e.sent,console.log("prepareSnUsageScatterChart for "+r+" start "+t+" end "+n),o=new Map,a.docs.forEach(function(e){if(e.category==r){var t={meta:e.sn,x:e.call,y:e.duration};if(o.get(e.yearMonth))o.get(e.yearMonth).push(t);else{var n=[];n.push(t),o.set(e.yearMonth,n)}}}),console.log("dataYearMonth is "+o.size),s=[],o.forEach(function(e,t){s.push({name:t+"",data:e})}),console.log(s),0==a.docs.length&&console.warn("no "+r+" found between "+t+" and "+n),i={series:s,labels:[]},e.next=14,x["a"].dispatch("updateSnScatterChart",i);case 14:return e.abrupt("return",s);case 15:case"end":return e.stop()}},e)}));function t(t,n,r){return e.apply(this,arguments)}return t}()},k=C,M={prepareAccountSummaryChart:function(){var e=Object(j["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log("prepareAccountSummaryChart started "),e.abrupt("return",Object(O["j"])());case 2:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},P=M,R=n("8e99"),_=/^((JAN|FEB|MAR|APR|MAY|JUN|JUL|AUG|SEP|OCT|NOV|DEC)\s((20)\d{2})\s([A-Z ]+)\s(CALLS|MINUTES OF USE|USAGE \(MB\)|EXCESS USAGE \(\$\)|SMS)$)/,A=/(([A-Z\-]+)\-((20)\d{2})\-(JAN|FEB|MAR|APR|MAY|JUN|JUL|AUG|SEP|OCT|NOV|DEC)$)/,Y={JAN:"01",FEB:"02",MAR:"03",APR:"04",MAY:"05",JUN:"06",JUL:"07",AUG:"08",SEP:"09",OCT:"10",NOV:"11",DEC:"12"};function U(e){return E.apply(this,arguments)}function E(){return E=Object(j["a"])(regeneratorRuntime.mark(function e(t){var n,r,a,o,s,i,c,u,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log("processData started"),e.next=3,I(t);case 3:return n=e.sent,e.next=6,T(t,n);case 6:return r=e.sent,a=Object(w["a"])(r,2),o=a[0],s=a[1],i=n.headerColumns,c=t[1][i.get("Account Number".toUpperCase())],u=t[1][i.get("CIDN".toUpperCase())],e.next=15,Object(O["c"])(u,c).then(function(e){return Object(O["a"])(u,c,o)}).then(function(){return Object(O["b"])(u,c,s)}).then(function(e){return z()}).then(function(){return Object(O["d"])()});case 15:return l=e.sent,console.log("processData ended "+l),x["a"].dispatch("setProgress",!1),e.abrupt("return",Promise.resolve([o,s]));case 19:case"end":return e.stop()}},e)})),E.apply(this,arguments)}function I(e){return N.apply(this,arguments)}function N(){return N=Object(j["a"])(regeneratorRuntime.mark(function e(t){var n,r,a,o,s,i,c,u,l,p,f,d,h;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:for(console.log("showme injesting  "+t.length+" progress "+x["a"].getters.isShowProgress+" row 0 is "),n=[],r=new Map,a=t[0],o=0,s=a.length;o<s;o++)i=a[o].toUpperCase().match(_),r.set(a[o].toUpperCase(),o),i&&(c=i[2],u=i[3],l=i[5],p=i[5].split(" ").join("-"),f=i[6],d=o,h=i[1].split(" ").join("-")+"-"+o,n.push({_id:h,colIndex:d,year:u,monthLabel:c,category:l,categoryGroup:p,categoryType:f}));return console.log("showme injested "+n.length+" call month"),e.abrupt("return",Promise.resolve({callMonth:n,headerColumns:r}));case 9:case"end":return e.stop()}},e)})),N.apply(this,arguments)}function T(e,t){return L.apply(this,arguments)}function L(){return L=Object(j["a"])(regeneratorRuntime.mark(function e(t,n){var r,a,o,s,i,c,u,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:for(r=[],a=[],o=n.callMonth,s=n.headerColumns,i=1,c=t.length,u=F(o,function(e){return e.categoryGroup+"-"+e.year+"-"+e.monthLabel}),console.log(u),l=function(){var e=t[i],n=e[s.get("Account Number".toUpperCase())],o=e[s.get("Mobile Number".toUpperCase())];u.forEach(function(t,a,i){var c=0,u=0,l=0,p=0,f=0;t.forEach(function(t){var n=t.categoryType,r=t.colIndex,a=e[r];"CALLS"==n&&(c=a),"MINUTES OF USE"==n&&(u=a),"USAGE (MB)"==n&&(l=a),"EXCESS USAGE ($)"==n&&(p=a),"SMS"==n&&(f=a)});var d=a.match(A),h=d[2].split("-").join(" "),m=d[3],g=d[5],b={_id:o+"-"+h+"-"+m+Y[g],sn:o,acct:n,lastBillDate:e[s.get("Last Bill Date".toUpperCase())],category:h,year:m,monthLabel:g,yearMonth:parseInt(m+Y[g],10),call:c,duration:u,usage:l,excess:p,sms:f};r.push(b)});var c={_id:o,sn:o,acct:n,cidn:e[s.get("CIDN".toUpperCase())],userName:e[s.get("USER NAME".toUpperCase())],sim:e[s.get("SIM Number".toUpperCase())],simSerial:e[s.get("SIM Serial Number".toUpperCase())],simNetwork:e[s.get("SIM Network".toUpperCase())],snActivationDate:e[s.get("Service Activation Date".toUpperCase())],snEndDate:e[s.get("Service End Date".toUpperCase())],snStatus:e[s.get("Service Status".toUpperCase())],flexiPlan:e[s.get("Flexiplan".toUpperCase())],flexiPlanName:e[s.get("Flexiplan Name".toUpperCase())],flexiStart:e[s.get("Flexiplan Start Date".toUpperCase())],flexiEnd:e[s.get("Flexiplan End Date".toUpperCase())],imei:e[s.get("IMEI".toUpperCase())],make:e[s.get("Make".toUpperCase())],model:e[s.get("Model".toUpperCase())],deviceName:e[s.get("Device Name".toUpperCase())],deviceType:e[s.get("Device Type".toUpperCase())],deviceCapability:e[s.get("Device Capability".toUpperCase())]};a.push(c)};i<c;i++)l();return e.abrupt("return",Promise.resolve([a,r]));case 11:case"end":return e.stop()}},e)})),L.apply(this,arguments)}function F(e,t){var n=new Map;return e.forEach(function(e){var r=t(e),a=n.get(r);a?a.push(e):n.set(r,[e])}),n}function V(){return $.apply(this,arguments)}function $(){return $=Object(j["a"])(regeneratorRuntime.mark(function e(){var t,n,r,a,o,s,i,c,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log("resolveMaxMinYearMonth"),e.next=3,Object(O["h"])("ass","ass","DOMESTIC DATA");case 3:return t=e.sent,n=t.max+"01",r=t.min+"01",a=S()(n,"YYYYMMDD"),o=S()(r,"YYYYMMDD"),console.log(" max "+a.format("YYYY-MM-DD")+" min "+o.format("YYYY-MM-DD")),s=a.clone().subtract(1,"months"),i=a.clone().subtract(3,"months"),c=a.clone().subtract(12,"months"),console.log(" max "+a.format("YYYY-MM-DD")+" lastMonth "+s.format("YYYY-MM-DD")+" min "+o.format("YYYY-MM-DD")),u={lastMonth:{start:parseInt(s.format("YYYYMM"),10),end:parseInt(a.format("YYYYMM"),10)},lastQuarter:{start:parseInt(i.format("YYYYMM"),10),end:parseInt(a.format("YYYYMM"),10)},lastYear:{start:parseInt(c.format("YYYYMM"),10),end:parseInt(a.format("YYYYMM"),10)}},e.abrupt("return",x["a"].dispatch("updateDomesticDataScatterDatePreset",u));case 15:case"end":return e.stop()}},e)})),$.apply(this,arguments)}function z(){return B.apply(this,arguments)}function B(){return B=Object(j["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:return e.next=4,P.prepareAccountSummaryChart();case 4:return e.next=6,k.filterByLastMonth();case 6:return e.next=8,Object(O["d"])();case 8:case"end":return e.stop()}},e)})),B.apply(this,arguments)}var G={name:"App",components:{progressDialog:y},data:function(){return{drawer:null}},computed:{showProgress:function(){return this.$store.getters.showProgress}},mounted:function(){this.$root.$progressDialog=this.$refs.progressDialog,z()}},J=G,Q=n("7496"),q=n("40dc"),H=n("5bc1"),K=n("8336"),X=n("a523"),W=n("a75b"),Z=n("553a"),ee=n("132d"),te=n("8860"),ne=n("da13"),re=n("1800"),ae=n("5d23"),oe=n("f774"),se=n("2fa4"),ie=n("2a7f"),ce=Object(p["a"])(J,a,o,!1,null,null,null),ue=ce.exports;d()(ce,{VApp:Q["a"],VAppBar:q["a"],VAppBarNavIcon:H["a"],VBtn:K["a"],VContainer:X["a"],VContent:W["a"],VFooter:Z["a"],VIcon:ee["a"],VList:te["a"],VListItem:ne["a"],VListItemAction:re["a"],VListItemContent:ae["a"],VListItemTitle:ae["b"],VNavigationDrawer:oe["a"],VSpacer:se["a"],VToolbarTitle:ie["a"]});var le=n("59ca"),pe=n.n(le),fe=(n("ea7b"),n("8c4f")),de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dashboard")},he=[],me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.containsData?e.containsData?n("v-container",[n("v-layout",{attrs:{"text-center":"",wrap:""}},[n("sn-usage-scatter-chart"),n("account-pie-chart")],1)],1):e._e():n("v-container",[n("v-layout",{attrs:{"text-center":"",wrap:""}},[n("v-flex",{attrs:{"mb-4":""}},[n("v-file-input",{attrs:{rules:e.rules,"display-size":"",label:"File input",placeholder:"Add your blitz file here",accept:"xlsx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},on:{change:e.uploadFile}}),e._v("\n            "+e._s(e.rowsRead)+" rows\n        ")],1)],1)],1)},ge=[],be=(n("7f7f"),n("1146")),ve=n.n(be),ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-flex",{attrs:{"mb-4":""}},[n("h1",{staticClass:"display-1  mb-3"},[e._v("\n        Equipment\n    ")]),n("chartist",{attrs:{data:e.accountSummaryChart,"event-handlers":e.eventHandlers,options:e.options,type:"Pie"}})],1)},we=[],je=(n("8e6e"),n("456d"),n("bd86"));n("b090");function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(n,!0).forEach(function(t){Object(je["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Se={data:function(){var e=this;return{options:{donut:!0,donutSolid:!0,donutWidth:80,plugins:[this.$chartist.plugins.tooltip()]},responsiveOptions:[["screen and (min-width: 640px)",{chartPadding:30,labelOffset:1,labelDirection:"explode",labelInterpolationFnc:function(e){return e}}],["screen and (min-width: 1024px)",{labelOffset:0,chartPadding:30}]],eventHandlers:[{event:"draw",fn:function(t){t.element.attr({}),"point"===t.type&&(t.element._node.onclick=function(n){return e.updateChart(t)})}},{event:"created",fn:function(){console.log("chart created")}}]}},mounted:function(){var e=Object(j["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:console.log("AccountPieChart mounted ");case 1:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),computed:De({},Object(c["c"])(["accountSummaryChart"])),methods:{updateChart:function(){console.log("AccountPieChart I am clicked ")}}},Oe=Se,Ce=(n("304f"),n("0e8f")),ke=Object(p["a"])(Oe,ye,we,!1,null,null,null),Me=ke.exports;d()(ke,{VFlex:Ce["a"]});var Pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-flex",{attrs:{"mb-4":""}},[n("h1",{staticClass:"display-1 mb-3"},[e._v("\n        Domestic Data Usage\n    ")]),n("v-tabs",[n("v-tab",{on:{click:e.filterByLastMonth}},[e._v("Last month")]),n("v-tab",{on:{click:e.filterByLastQuarter}},[e._v("Last quarter")]),n("v-tab",{on:{click:e.filterByLastYear}},[e._v("Last year")])],1),n("chartist",{attrs:{data:e.snScatterChart,"event-handlers":e.eventHandlers,options:e.options,type:"Line"}})],1)},Re=[];n("d377");function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(n,!0).forEach(function(t){Object(je["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Ye={name:"SnUsageScatterChart",data:function(){var e=this;return{options:{scales:{yAxes:[{display:!0,scaleLabel:{display:!0,labelString:"duration"}}],xAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Call Duration"}}]},showLine:!1,chartPadding:{top:20,right:0,bottom:10,left:10},plugins:[this.$chartist.plugins.tooltip(),this.$chartist.plugins.ctAxisTitle({axisX:{axisTitle:"No of calls",axisClass:"ct-axis-title",offset:{x:0,y:30},textAnchor:"middle"},axisY:{axisTitle:"Duration",axisClass:"ct-axis-title",offset:{x:10,y:0},flipTitle:!1}})],axisX:{type:this.$chartist.AutoScaleAxis}},responsiveOptions:[["screen and (min-width: 640px)",{axisX:{labelInterpolationFnc:function(e,t){return t%4===0?"W"+e:null}}}]],eventHandlers:[{event:"draw",fn:function(t){t.element.attr({}),"point"===t.type&&(t.element._node.onclick=function(n){return e.updateChart(t)})}},{event:"created",fn:function(){console.log("SnUsageScatterChart created")}}]}},mounted:function(){var e=Object(j["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:console.log("SnUsageScatterChart mounted ");case 1:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),computed:Ae({},Object(c["c"])(["snScatterChart"])),methods:{updateChart:function(){console.log("SnUsageScatterChart I am clicked ")},filterByLastMonth:function(){k.filterByLastMonth()},filterByLastQuarter:function(){k.filterByLastQuarter()},filterByLastYear:function(){k.filterByLastYear()}}},Ue=Ye,Ee=(n("9338"),n("71a3")),Ie=n("fe57"),Ne=Object(p["a"])(Ue,Pe,Re,!1,null,"ec0068fc",null),Te=Ne.exports;d()(Ne,{VFlex:Ce["a"],VTab:Ee["a"],VTabs:Ie["a"]});var Le={name:"Dashboard",components:{accountPieChart:Me,snUsageScatterChart:Te},data:function(){return{showFilUpload:!1,rules:[function(e){return!e||e.size<2e6||"File size should be less than 2 MB!"}]}},watch:{showProgress:function(){console.log("showprogress watch triggered value")}},computed:{showProgress:function(){return this.$store.getters.showProgress},containsData:function(){return this.$store.getters.containsData},rowsRead:function(){return this.$store.getters.rowsRead}},methods:{uploadFile:function(e){var t=e;this.$store.dispatch("setProgress",!0),console.log("uploadFile clicked file name is "+t.name+" show progress is "+this.$store.getters.isShowProgress);var n=new FileReader;n.onload=function(e){var n=ve.a.read(e.target.result,{type:"buffer",cellDates:!0,cellStyles:!0}),r=n.Sheets[n.SheetNames[0]],a=ve.a.utils.sheet_to_json(r,{header:1,dateNF:"DD/MM/YYYY"});console.log("completed reading xls "+t.name),U(a)},n.readAsArrayBuffer(t)}},mounted:function(){}},Fe=Le,Ve=n("23a7"),$e=n("a722"),ze=Object(p["a"])(Fe,me,ge,!1,null,"30ecc86c",null),Be=ze.exports;d()(ze,{VContainer:X["a"],VFileInput:Ve["a"],VFlex:Ce["a"],VLayout:$e["a"]});var Ge={components:{Dashboard:Be}},Je=Ge,Qe=Object(p["a"])(Je,de,he,!1,null,null,null),qe=Qe.exports,He=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-layout",{attrs:{"text-center":"",wrap:""}},[n("v-flex",{attrs:{"mb-4":""}},[n("h1",{staticClass:"display-2 font-weight-bold mb-3"},[e._v("\n                Settings\n            ")]),n("v-file-input",{attrs:{rules:e.rules,"display-size":"",label:"File input",placeholder:"Add your blitz file here",accept:"xlsx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},on:{change:e.uploadFile}}),e._v("\n            "+e._s(e.rowsRead)+" mobile phones\n        ")],1)],1),n("v-layout",{attrs:{"text-center":"",wrap:""}},[n("v-flex",{attrs:{"mb-4":""}},[n("v-btn",{on:{click:e.purgeAll}},[e._v("Purge data")])],1)],1),n("v-layout",{attrs:{"text-center":"",wrap:""}},[n("v-flex",{attrs:{"mb-4":""}},[n("v-btn",{on:{click:e.deleteDatabase}},[e._v("Delete database")])],1)],1),n("v-layout",{attrs:{"text-center":"",wrap:""}},[n("v-flex",{attrs:{"mb-4":""}},[n("v-btn",{on:{click:e.createScatterChart}},[e._v("Create Scatter")])],1)],1)],1)},Ke=[],Xe={name:"Settings",components:{},data:function(){return{showFilUpload:!1,rules:[function(e){return!e||e.size<2e6||"File size should be less than 2 MB!"}]}},watch:{showProgress:function(){console.log("showprogress watch triggered value")}},computed:{showProgress:function(){return this.$store.getters.showProgress},containsData:function(){return this.$store.getters.containsData},rowsRead:function(){return this.$store.getters.rowsRead}},methods:{uploadFile:function(e){var t=e;this.$store.dispatch("setProgress",!0),console.log("uploadFile clicked file name is "+t.name+" show progress is "+this.$store.getters.isShowProgress);var n=new FileReader;n.onload=function(e){var n=ve.a.read(e.target.result,{type:"buffer",cellDates:!0,cellStyles:!0}),r=n.Sheets[n.SheetNames[0]],a=ve.a.utils.sheet_to_json(r,{header:1,dateNF:"DD/MM/YYYY"});console.log("completed reading xls "+t.name),U(a),console.log("processData called")},n.readAsArrayBuffer(t)},purgeAll:function(){this.$store.dispatch("setProgress",!0),Object(O["c"])("all","all")},createScatterChart:function(){V().then(function(){k.filterByLastMonth()})},deleteDatabase:function(){Object(O["e"])()}}},We=Xe,Ze=Object(p["a"])(We,He,Ke,!1,null,"9a69cc9c",null),et=Ze.exports;d()(Ze,{VBtn:K["a"],VContainer:X["a"],VFileInput:Ve["a"],VFlex:Ce["a"],VLayout:$e["a"]});var tt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-layout",{attrs:{"text-center":"",wrap:""}},[n("v-flex",{attrs:{"mb-12":""}},[n("v-card-title",[e._v("\n                Service Number\n                "),n("v-spacer"),n("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),n("v-flex",{attrs:{"mb-12":""}},[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.items,"server-items-length":e.totalRows,loading:e.loading,options:e.options},on:{"update:options":function(t){e.options=t}}})],1)],1)],1)},nt=[],rt=(n("386d"),n("2ef0")),at=n.n(rt);function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(n,!0).forEach(function(t){Object(je["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var it=Object(c["a"])("snService"),ct=it.mapGetters,ut={name:"ServiceNumber",watch:{fullTextMode:{handler:function(){console.log("full Text mode changed to "+this.fullTextMode+" start key set to empty string"),this.startkey="",this.forward=!0,this.options.page=1,this.currentPage=0,this.nextPage=0}},search:{handler:function(){this.debouncedQuery()}},options:{handler:function(){var e=this;console.log("watch options changed startkey is "+this.startkey),this.getDataFromApi().then(function(t){e.items=t.items,e.totalRows=t.total,e.startkey=t.startkey})},deep:!0}},mounted:function(){var e=this;console.log("mounted calling findAllSn"),R["a"].initSearchIndex(),this.getDataFromApi().then(function(t){e.items=t.items,e.totalRows=t.total,e.startkey=t.startkey})},computed:st({},ct(["result","rowCount"])),methods:{debouncedQuery:at.a.debounce(function(){this.searchFullText()},500),searchFullText:function(){var e=this,t=this.options;t.sortBy,t.descending,t.page,t.itemsPerPage;this.search.length<1?this.getDataFromApi().then(function(t){e.items=t.items,e.totalRows=t.total,e.startkey=t.startkey}):(this.fullTextMode||(this.fullTextMode=!0),console.log("searchFullText text "+this.search+" page "+this.page+" itemsPerPage "+this.itemsPerPage),this.loading=!0,R["a"].findSnContaining(this.search,this.nextPage,this.options.itemsPerPage).then(function(t){e.items=t.result,e.totalRows=t.result.length,e.currentPage=t.page,e.nextPage=t.next,console.log("full text search completed result is "),e.loading=!1}))},getDataFromApi:function(){var e=Object(j["a"])(regeneratorRuntime.mark(function e(){var t,n,r,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,this.fullTextMode&&(this.fullTextMode=!1),t=this.options,t.sortBy,t.descending,n=t.page,r=t.itemsPerPage,console.log("getDataFromApi called page "+n+" items per page "+r),this.currentPage>n?(console.log("getDataFromApi page backward as "+n+" current page "+this.currentPage),this.forward=!1):(console.log("getDataFromApi page forward as "+n+" current page "+this.currentPage),this.forward=!0),e.abrupt("return",Object(O["f"])(n,r,this.forward,this.startkey).then(function(e){return console.log(e),a.loading=!1,new Promise(function(t,n){var r=a.options,o=(r.sortBy,r.descending,r.page),s=(r.itemsPerPage,e.snNumbers),i=e.startkey,c=e.total;a.loading=!1,a.currentPage=o,console.log("startkey is "+i),t({items:s,total:c,startkey:i})})}));case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},data:function(){return{search:"",fullTextMode:!1,startkey:"",loading:!1,currentPage:1,nextPage:0,totalRows:0,items:[],forward:!0,options:{},headers:[{text:"ServiceNumber",align:"left",sortable:!1,value:"sn"},{text:"Account",value:"acct"},{text:"Device",value:"deviceName"},{text:"Make",value:"make"},{text:"Model",value:"model"},{text:"IMEI",value:"imei"},{text:"SIM",value:"sim"}],desserts:[{name:"Frozen Yogurt",calories:159,fat:6,carbs:24,protein:4,iron:"1%"},{name:"Ice cream sandwich",calories:237,fat:9,carbs:37,protein:4.3,iron:"1%"},{name:"Eclair",calories:262,fat:16,carbs:23,protein:6,iron:"7%"},{name:"Cupcake",calories:305,fat:3.7,carbs:67,protein:4.3,iron:"8%"},{name:"Gingerbread",calories:356,fat:16,carbs:49,protein:3.9,iron:"16%"},{name:"Jelly bean",calories:375,fat:0,carbs:94,protein:0,iron:"0%"},{name:"Lollipop",calories:392,fat:.2,carbs:98,protein:0,iron:"2%"},{name:"Honeycomb",calories:408,fat:3.2,carbs:87,protein:6.5,iron:"45%"},{name:"Donut",calories:452,fat:25,carbs:51,protein:4.9,iron:"22%"},{name:"KitKat",calories:518,fat:26,carbs:65,protein:7,iron:"6%"}]}}},lt=ut,pt=n("8fea"),ft=n("8654"),dt=Object(p["a"])(lt,tt,nt,!1,null,"2ee36e35",null),ht=dt.exports;d()(dt,{VCardTitle:m["b"],VContainer:X["a"],VDataTable:pt["a"],VFlex:Ce["a"],VLayout:$e["a"],VSpacer:se["a"],VTextField:ft["a"]}),r["a"].use(fe["a"]);var mt=new fe["a"]({routes:[{path:"/",name:"home",component:qe},{path:"/settings",name:"settings",component:et},{path:"/serviceNumber",name:"serviceNumber",component:ht},{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}}]}),gt=n("f309");r["a"].use(gt["a"]);var bt=new gt["a"]({icons:{iconfont:"mdi"}}),vt=(n("d1e7"),n("bf40"),n("4633"),n("5945"),n("5d16"),{apiKey:"AIzaSyCC69Fy6e3Fs0DZD9DAqpQLNEV-2IbdEuc",authDomain:"skylens-365.firebaseapp.com",databaseURL:"https://skylens-365.firebaseio.com",projectId:"skylens-365",storageBucket:"skylens-365.appspot.com",messagingSenderId:"712685714363",appId:"1:712685714363:web:123f665bf6a9f0a9"});r["a"].config.productionTip=!1,r["a"].use(n("84b5"),{messageNoData:"Loading data",classNoData:"empty"}),r["a"].use(n("2ead")),pe.a.initializeApp(vt),new r["a"]({store:x["a"],router:mt,vuetify:bt,render:function(e){return e(ue)}}).$mount("#app")},"8e99":function(e,t,n){"use strict";n("386d"),n("96cf");var r=n("3b8d"),a=n("c2e1"),o=n("ed9b"),s=n.n(o),i=s.a.create({tokenize:"forward",depth:3,async:!0,doc:{id:"sn",field:["deviceName","deviceType","make","model","imei","sim","userName","acct"]}}),c={purgeAll:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log("SN clearing search index"),e.abrupt("return",i.clear());case 2:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),createIndex:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),initSearchIndex:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:console.log(i.info()),t=i.info(),t.items<1&&Object(a["g"])().then(function(e){if(e.length>0)return n.addData(e)});case 3:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),addData:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log("addData started adding "+t.length+" items to search index"),e.abrupt("return",i.add(t));case 2:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),findSnContaining:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("findSnContaining started searching "+t),!(null===i||t.length<3)){e.next=3;break}return e.abrupt("return",[]);case 3:return e.next=5,i.search({query:t,page:!0,limit:r});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}));function t(t,n,r){return e.apply(this,arguments)}return t}()};t["a"]=c},9338:function(e,t,n){"use strict";var r=n("0215"),a=n.n(r);a.a},c2e1:function(e,t,n){"use strict";n.d(t,"b",function(){return j}),n.d(t,"c",function(){return D}),n.d(t,"j",function(){return h}),n.d(t,"a",function(){return y}),n.d(t,"i",function(){return f}),n.d(t,"f",function(){return M}),n.d(t,"g",function(){return O}),n.d(t,"d",function(){return m}),n.d(t,"h",function(){return l}),n.d(t,"e",function(){return b});n("5df3"),n("7514"),n("96cf"),n("ac4d"),n("8a81"),n("ac6a");var r=n("3b8d"),a=n("d6e1"),o=n("5d16"),s=n("07a4");a["a"].plugin(o["a"]);var i=new a["a"]("sn"),c=new a["a"]("snUsage"),u=(new a["a"]("snResult"),function(e){emit(e.make,1)});function l(e,t,n){return p.apply(this,arguments)}function p(){return p=Object(r["a"])(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log("findMaxMinYearMonth category "+r),e.abrupt("return",c.createIndex({index:{fields:["category"]}}).then(function(){return c.find({selector:{category:{$eq:r}},fields:["_id","yearMonth"]}).then(function(e){var t=299912,n=201501,r=!0,a=!1,o=void 0;try{for(var s,i=e.docs[Symbol.iterator]();!(r=(s=i.next()).done);r=!0){var c=s.value;c.yearMonth>n&&(n=c.yearMonth),c.yearMonth<t&&(t=c.yearMonth)}}catch(l){a=!0,o=l}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}console.log("findMaxMinYearMonth result is  max "+n+" min "+t);var u={max:n,min:t};return u})}).catch(function(e){console.log(e)}));case 2:case"end":return e.stop()}},e)})),p.apply(this,arguments)}function f(e,t){return d.apply(this,arguments)}function d(){return d=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log("findSnUsage started yearMonth from "+t+" to "+n),e.abrupt("return",c.createIndex({index:{fields:["yearMonth"]}}).then(function(){return c.find({selector:{$and:[{yearMonth:{$gte:t}},{yearMonth:{$lte:n}}]},fields:["_id","sn","call","duration","category","yearMonth"]}).then(function(e){return console.log("findSnUsage ended result is "),console.log(e),e})}).catch(function(e){console.log(e)}));case 2:case"end":return e.stop()}},e)})),d.apply(this,arguments)}function h(){console.log("updateAccountSummaryChart started"),i.query({map:u,reduce:"_stats"},{reduce:!0,group:!0,group_level:1}).then(function(e){console.log(e);var t=[],n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e.rows[Symbol.iterator]();!(r=(i=c.next()).done);r=!0){var u=i.value;u.key&&(t.push(u.value.sum),n.push(u.key))}}catch(l){a=!0,o=l}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}s["a"].dispatch("updateAccountSummaryChart",{series:t,labels:n})})}function m(){return g.apply(this,arguments)}function g(){return g=Object(r["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log("countAllSn started"),e.abrupt("return",i.info().then(function(e){var t=e.doc_count;console.log("countAllSn sn count returns "+t),t&&t>0?s["a"].dispatch("updateContainsData",{count:t}).then(function(){return t}):s["a"].dispatch("updateContainsData",{count:0}).then(function(){return 0})}));case 2:case"end":return e.stop()}},e)})),g.apply(this,arguments)}function b(){return v.apply(this,arguments)}function v(){return v=Object(r["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:c.destroy().then(function(){console.log("snUsageDb destroyed"),c=new a["a"]("snUsage")}).then(function(){return console.log("snDb destroyed"),i.destroy()}).then(function(){i=new a["a"]("sn")}).catch(function(e){console.log(e)});case 1:case"end":return e.stop()}},e)})),v.apply(this,arguments)}function y(e,t,n){return w.apply(this,arguments)}function w(){return w=Object(r["a"])(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",i.bulkDocs(r).then(function(e){return console.log("bulkInsertSn Account "+n+" service numbers "+r.length+" inserted OK"),e}).catch(function(e){console.error(e)}));case 1:case"end":return e.stop()}},e)})),w.apply(this,arguments)}function j(e,t,n){return x.apply(this,arguments)}function x(){return x=Object(r["a"])(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log("bulkInsertSnUsage started"),e.abrupt("return",c.bulkDocs(r).then(function(e){return console.log("bulkInsertSnUsage Account "+n+" usages "+r.length+" inserted OK"),e}).catch(function(e){console.error(e)}));case 2:case"end":return e.stop()}},e)})),x.apply(this,arguments)}function D(e,t){return S.apply(this,arguments)}function S(){return S=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=i.allDocs({include_docs:!0}).then(function(e){return e.rows.map(function(e){return{_id:e.id,_rev:e.doc._rev,_deleted:!0}})}).then(function(e){return i.bulkDocs(e).then(function(e){return console.log("purged all snDb "),e}).catch(function(e){console.error(e)})}).then(function(e){return c.allDocs({include_docs:!0}).then(function(e){return e.rows.map(function(e){return{_id:e.id,_rev:e.doc._rev,_deleted:!0}})})}).then(function(e){return c.bulkDocs(e).then(function(e){return console.log("purged all snUsageDb "),e}).catch(function(e){console.error(e)})}),e.abrupt("return",Promise.all([r]));case 2:case"end":return e.stop()}},e)})),S.apply(this,arguments)}function O(){return C.apply(this,arguments)}function C(){return C=Object(r["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={include_docs:!0},e.abrupt("return",i.allDocs(t).then(function(e){var t=[];return e.total_rows>0&&e.rows.forEach(function(e){t.push(e.doc)}),t}));case 2:case"end":return e.stop()}},e)})),C.apply(this,arguments)}var k={limit:10,include_docs:!0};function M(e,t,n,r){return P.apply(this,arguments)}function P(){return P=Object(r["a"])(regeneratorRuntime.mark(function e(t,n,r,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log("page "+t+" itemsPerPage "+n+" forward "+r+" startkey "+a),console.log(k),k.limit=n,a&&a.length>0?k={limit:n,startkey:a,include_docs:!0,skip:1}:(console.log("reset options to default since startkey  is empty"),k={limit:n,include_docs:!0}),k.descending=!r,e.abrupt("return",i.allDocs(k,function(e,t){if(t&&t.rows.length>0){var n=t.rows[t.rows.length-1];n.doc.sn?k.startkey=t.rows[t.rows.length-1].id:k.startkey=t.rows[0].id,k.skip=1}return t}).then(function(e){var t=[];return e.rows.forEach(function(e){t.push(e.doc)}),console.log("findAllSn()  return total rows "+e.total_rows+" and "+t.length+" sn rows start key "+k.startkey),{snNumbers:t,total:e.total_rows,startkey:k.startkey}}));case 6:case"end":return e.stop()}},e)})),P.apply(this,arguments)}},d307:function(e,t,n){var r={"./index.js":"2a74","./snService.js":"363e"};function a(e){var t=o(e);return n(t)}function o(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id="d307"}});