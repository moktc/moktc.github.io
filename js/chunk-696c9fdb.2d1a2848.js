(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-696c9fdb"],{"0e8f":function(e,t,a){"use strict";a("20f6");var s=a("e8f2");t["a"]=Object(s["a"])("flex")},"2fa4":function(e,t,a){"use strict";a("20f6");var s=a("80d2");t["a"]=Object(s["h"])("spacer","div","v-spacer")},6701:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-layout",{attrs:{"text-center":"",wrap:""}},[a("v-flex",{attrs:{"mb-12":""}},[a("v-card-title",[e._v("\n                Service Number\n                "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),a("v-flex",{attrs:{"mb-12":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.items,"server-items-length":e.totalRows,loading:e.loading,options:e.options},on:{"update:options":function(t){e.options=t}},scopedSlots:e._u([{key:"item.sn",fn:function(t){var s=t.item;return[a("v-chip",{attrs:{color:e.getColor(s),dark:"",to:{name:"serviceNumberDetail",params:{sn:s.sn}}}},[e._v(e._s(s.sn)+"\n                    ")])]}}])})],1)],1)],1)},o=[],i=a("c2e1"),r=a("2f62"),n=a("2ef0"),l=a.n(n),c=a("8e99");const{mapGetters:h}=Object(r["a"])("snService");var g={name:"ServiceNumber",watch:{fullTextMode:{handler(){console.log("full Text mode changed to "+this.fullTextMode+" start key set to empty string"),this.startkey="",this.forward=!0,this.options.page=1,this.currentPage=0,this.nextPage=0}},search:{handler(){this.debouncedQuery()}},options:{handler(){console.log("watch options changed startkey is "+this.startkey),this.getDataFromApi().then(e=>{this.items=e.items,this.totalRows=e.total,this.startkey=e.startkey})},deep:!0}},mounted(){console.log("mounted calling findAllSn"),c["a"].initSearchIndex(),this.getDataFromApi().then(e=>{this.items=e.items,this.totalRows=e.total,this.startkey=e.startkey})},computed:{...h(["result","rowCount"])},methods:{lights(){alert("Toggling lights...")},getColor(e){return"green"},gotoDetail(e){console.log("gotoDetail sn is "+e)},debouncedQuery:l.a.debounce(function(){this.searchFullText()},500),searchFullText(){const{sortBy:e,descending:t,page:a,itemsPerPage:s}=this.options;this.search.length<1?this.getDataFromApi().then(e=>{this.items=e.items,this.totalRows=e.total,this.startkey=e.startkey}):(this.fullTextMode||(this.fullTextMode=!0),console.log("searchFullText text "+this.search+" page "+this.page+" itemsPerPage "+this.itemsPerPage),this.loading=!0,c["a"].findSnContaining(this.search,this.nextPage,this.options.itemsPerPage).then(e=>{this.items=e.result,this.totalRows=e.result.length,this.currentPage=e.page,this.nextPage=e.next,console.log("full text search completed result is "),this.loading=!1}))},async getDataFromApi(){this.loading=!0,this.fullTextMode&&(this.fullTextMode=!1);const{sortBy:e,descending:t,page:a,itemsPerPage:s}=this.options;return console.log("getDataFromApi called page "+a+" items per page "+s),this.currentPage>a?(console.log("getDataFromApi page backward as "+a+" current page "+this.currentPage),this.forward=!1):(console.log("getDataFromApi page forward as "+a+" current page "+this.currentPage),this.forward=!0),Object(i["f"])(a,s,this.forward,this.startkey).then(e=>{return console.log(e),this.loading=!1,new Promise((t,a)=>{const{sortBy:s,descending:o,page:i,itemsPerPage:r}=this.options;let n=e.snNumbers;const l=e.startkey,c=e.total;this.loading=!1,this.currentPage=i,console.log("startkey is "+l),t({items:n,total:c,startkey:l})})})}},data(){return{search:"",fullTextMode:!1,startkey:"",loading:!1,currentPage:1,nextPage:0,totalRows:0,items:[],forward:!0,options:{},headers:[{text:"ServiceNumber",align:"left",sortable:!1,value:"sn"},{text:"Account",value:"acct"},{text:"Device",value:"deviceName"},{text:"Make",value:"make"},{text:"Model",value:"model"},{text:"IMEI",value:"imei"},{text:"SIM",value:"sim"}]}}},u=g,d=a("2877"),p=a("6544"),m=a.n(p),f=a("99d9"),v=a("cc20"),x=a("a523"),y=a("8fea"),b=a("0e8f"),k=a("a722"),w=a("2fa4"),P=a("8654"),T=Object(d["a"])(u,s,o,!1,null,"25121dfe",null);t["default"]=T.exports;m()(T,{VCardTitle:f["c"],VChip:v["a"],VContainer:x["a"],VDataTable:y["a"],VFlex:b["a"],VLayout:k["a"],VSpacer:w["a"],VTextField:P["a"]})},a722:function(e,t,a){"use strict";a("20f6");var s=a("e8f2");t["a"]=Object(s["a"])("layout")}}]);